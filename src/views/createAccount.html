<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
    <%- include('styles.html') %>
    <link rel="stylesheet" href="./css/accountForms.css">
</head>

<body>
    <form class="container" action="/createaccount" method="post"> 
        <% if(locals.message) {%>
            <label class="allert-label" ><b><%=locals.message%></b></label><br>
        <%}%>    
        <label for="email"><b>Email</b></label>
        <input type="text" placeholder="Enter email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
           title="Must be in the following order: characters@characters.domain" required maxlength="50" 
           <% if(locals.email){%>  value="<%=locals.email%>" <% } %>  <% if(locals.emailNotInDB){%> readonly <% } %>>  
        
        <% if(locals.emailNotInDB){%>
        <label for="password"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
        title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters" required>

        <label for="confimrpassword"><b>Confirm password</b></label>
        <input type="password" placeholder="Confirm Password" name="confirmpassword" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
        title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters" required>

        
        <label for="name"><b>Name</b></label>
        <input type="text" placeholder="Enter name" name="name" patern="[a-zA-Z]" maxlength="50" required
            <% if(locals.name){%> value="<%=locals.name%>" <% } %>>

        <label for="surname"><b>Surname</b></label>
        <input type="text" placeholder="Enter surname" name="surname" patern="[a-zA-Z]" maxlength="50" required 
            <% if(locals.surname){%> value="<%=locals.surname%>" <% } %>>

        <label for="phone"><b>Phone number</b></label>
        <input type="text" placeholder="Enter phone number" title="Must be in the following style: 123456789" name="phone" pattern="[0-9]{9}"
            maxlength="9" required <% if(locals.phone){%> value="<%=locals.phone%>" <% } %>>

        
        <label for="postalcode"><b>Postal code</b></label>
        <input type="text" placeholder="Enter postal code _ _- _ _ _" name="postalcode"  pattern="[0-9]{2}-[0-9]{3}"
            maxlength="6" required <% if(locals.postalcode){%> value="<%=locals.postalcode%>" <% } %>>

        <label for="city"><b>City</b></label>
        <input type="text" placeholder="Enter city" name="city"  patern="[a-zA-Z]" maxlength="30" required 
            <% if(locals.city){%> value="<%=locals.city%>" <% } %>>

        <label for="deliveryadress"><b>Delivery adress</b></label>
        <input type="text" placeholder="Enter delivery adress" name="deliveryadress" maxlength="100" required
            <% if(locals.deliveryadress){%> value="<%=locals.deliveryadress%>" <% } %>>
        <%}%>
        <button type="submit" title="Login">Create Account</button> 
    </form>
    <div class="container">
        <a href="/">
            <button class="navbtn" title="Cancel and navigate to homepage">Cancel and <i
                    class="fas fa-home"></i></button>
        </a>
    </div>
</body>

</html>